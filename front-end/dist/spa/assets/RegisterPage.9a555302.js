import{Q as i}from"./QInput.10305cb2.js";import{u as v,r as d,o as x,c as V,w as s,h as l,b as a,ap as n,Q as y,aq as k}from"./index.d75b9d65.js";import{Q as I}from"./QForm.8ff2fb10.js";import{Q as N}from"./QPage.44405011.js";import{u as P}from"./use-quasar.0c0ee1e7.js";import{a as U}from"./axios.bf56c3c5.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import"./uid.937d8ee7.js";import"./use-dark.ef90c1ea.js";import"./focus-manager.40072c15.js";import"./private.use-form.189d1252.js";const S={setup(){const p=v(),e=P(),c=d(""),t=d(""),f=d(""),g=d(""),o=d(""),w=d("");return{firstName:c,lastName:t,username:f,email:g,password:o,confirmPassword:w,onsubmit:async()=>{if(o.value!==w.value){e.notify({type:"negative",message:"Passwords do not match."});return}try{const r={firstName:c.value,lastName:t.value,username:f.value,email:g.value,password:o.value};console.log(r);const m=await(await fetch("https://send-which-app.onrender.com/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();m.success?(e.notify({type:"positive",message:m.message}),p.push("/login")):e.notify({type:"negative",message:m.message})}catch(r){e.notify({type:"negative",message:"An error occurred. Please try again later."}),console.error("Error:",r)}},signUpWithGoogle:async()=>{const r=await U.post("https://send-which-app.onrender.com/api/v1/requestgoogle");window.open(r.data.url,"_blank","width=500,height=600"),window.addEventListener("message",u=>{if(console.log(u),u.origin!=="https://send-which-app.onrender.com")return;const{success:m,message:h,id:b,token:_}=u.data;m?(setTimeout(()=>{e.notify({progress:!0,type:"warning",message:h})},5e3),localStorage.setItem("token",_),localStorage.setItem("id",b),p.push("/auth")):e.notify({type:"negative",message:h})})}}}},Q={class:"q-pa-md"},E=l("div",{style:{color:"white","font-size":"15px","font-family":"Verdana","font-weight":"bold","text-align":"center"}}," PLEASE REGISTER YOURSELF ",-1),R=l("br",null,null,-1),C=l("br",null,null,-1),G=l("br",null,null,-1),T=l("br",null,null,-1),B=l("br",null,null,-1),L=l("br",null,null,-1),F=l("br",null,null,-1),O=l("br",null,null,-1),W=l("br",null,null,-1);function j(p,e,c,t,f,g){return x(),V(N,{padding:""},{default:s(()=>[l("div",Q,[a(I,{style:{"max-width":"300px",margin:"auto"},onSubmit:k(t.onsubmit,["prevent"])},{default:s(()=>[a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-1s"},{default:s(()=>[E]),_:1}),R,C,a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-2s"},{default:s(()=>[l("div",null,[a(i,{style:{"max-width":"300px"},color:"black","bg-color":"white",outlined:"",modelValue:t.firstName,"onUpdate:modelValue":e[0]||(e[0]=o=>t.firstName=o),label:"First Name",type:"name",required:""},null,8,["modelValue"])])]),_:1}),G,a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-3s"},{default:s(()=>[l("div",null,[a(i,{style:{"max-width":"300px"},color:"black","bg-color":"white",outlined:"",modelValue:t.lastName,"onUpdate:modelValue":e[1]||(e[1]=o=>t.lastName=o),label:"Last Name",type:"name",required:""},null,8,["modelValue"])])]),_:1}),T,a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-4s"},{default:s(()=>[l("div",null,[a(i,{style:{"max-width":"300px"},color:"black","bg-color":"white",outlined:"",modelValue:t.username,"onUpdate:modelValue":e[2]||(e[2]=o=>t.username=o),label:"Username",type:"name",required:""},null,8,["modelValue"])])]),_:1}),B,a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-5s"},{default:s(()=>[l("div",null,[a(i,{style:{"max-width":"300px"},color:"black","bg-color":"white",outlined:"",modelValue:t.email,"onUpdate:modelValue":e[3]||(e[3]=o=>t.email=o),label:"Email",type:"email",required:""},null,8,["modelValue"])])]),_:1}),L,a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-6s"},{default:s(()=>[l("div",null,[a(i,{style:{"max-width":"300px"},color:"black","bg-color":"white",outlined:"",modelValue:t.password,"onUpdate:modelValue":e[4]||(e[4]=o=>t.password=o),label:"Password",type:"password",required:""},null,8,["modelValue"])])]),_:1}),F,a(n,{appear:"","enter-active-class":"animated fadeIn slower delay-7s"},{default:s(()=>[l("div",null,[a(i,{style:{"max-width":"300px"},color:"black","bg-color":"white",outlined:"",modelValue:t.confirmPassword,"onUpdate:modelValue":e[5]||(e[5]=o=>t.confirmPassword=o),label:"Confirm Password",type:"password",required:""},null,8,["modelValue"])])]),_:1}),O,W,a(n,{appear:"","enter-active-class":"animated fadeIn delay-8s"},{default:s(()=>[a(y,{style:{"max-width":"300px",height:"10%","margin-bottom":"15px"},push:"",color:"black","bg-color":"white",type:"submit",label:"Register"})]),_:1}),a(n,{appear:"","enter-active-class":"animated fadeIn delay-9s"},{default:s(()=>[a(y,{style:{"max-width":"300px",height:"10%","margin-bottom":"15px"},push:"",color:"red","bg-color":"white",label:"Sign Up with Google",onClick:t.signUpWithGoogle},null,8,["onClick"])]),_:1})]),_:1},8,["onSubmit"])])]),_:1})}var te=q(S,[["render",j]]);export{te as default};
