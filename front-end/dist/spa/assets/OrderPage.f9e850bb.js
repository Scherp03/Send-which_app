import{k as f,i as R,ai as xe,ah as we,r as q,j as m,A as pe,B as fe,l as Q,C as K,x as $,aj as oe,q as Ce,ap as me,d as qe,R as Pe,a6 as Ie,a3 as j,Y as Te,a7 as Be,a8 as W,a9 as X,ac as le,ad as G,H as Ve,aB as Ae,N as De,aC as he,n as Ee,p as J,aD as ge,I as Ne,O as Qe,u as Oe,s as Le,o as C,f as B,b as I,w as V,ao as Re,c as D,Q as E,S as N,F as Z,g as ee,e as je,ar as Fe,as as $e,h as ae}from"./index.d75b9d65.js";import{Q as Ke}from"./QDialog.c6ea9b2d.js";import{u as be,a as ye}from"./use-dark.ef90c1ea.js";import{o as ze,c as Me,Q as Ue}from"./QCheckbox.b563db11.js";import{u as We,a as He}from"./private.use-form.189d1252.js";import{Q as ie}from"./QScrollArea.46d2dc3b.js";import{g as se,s as ce,c as Ye}from"./format.6b9ba967.js";import{a as F}from"./axios.bf56c3c5.js";import{u as Xe}from"./use-quasar.0c0ee1e7.js";import{_ as Ge}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-prevent-scroll.b6b7592a.js";import"./QScrollObserver.b508ddad.js";import"./focus-manager.40072c15.js";const Je=f("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[f("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),f("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var ue=R({name:"QRadio",props:{...be,...xe,...We,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:n,emit:d}){const{proxy:r}=K(),l=ye(e,r.$q),t=we(e,ze),a=q(null),{refocusTargetEl:i,refocusTarget:g}=Me(e,a),b=m(()=>oe(e.modelValue)===oe(e.val)),v=m(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(l.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),S=m(()=>{const y=e.color!==void 0&&(e.keepColor===!0||b.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${b.value===!0?"truthy":"falsy"}${y}`}),p=m(()=>(b.value===!0?e.checkedIcon:e.uncheckedIcon)||null),x=m(()=>e.disable===!0?-1:e.tabindex||0),w=m(()=>{const y={type:"radio"};return e.name!==void 0&&Object.assign(y,{".checked":b.value===!0,"^checked":b.value===!0?"checked":void 0,name:e.name,value:e.val}),y}),c=He(w);function o(y){y!==void 0&&($(y),g(y)),e.disable!==!0&&b.value!==!0&&d("update:modelValue",e.val,y)}function u(y){(y.keyCode===13||y.keyCode===32)&&$(y)}function k(y){(y.keyCode===13||y.keyCode===32)&&o(y)}return Object.assign(r,{set:o}),()=>{const y=p.value!==null?[f("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[f(pe,{class:"q-radio__icon",name:p.value})])]:[Je];e.disable!==!0&&c(y,"unshift"," q-radio__native q-ma-none q-pa-none");const T=[f("div",{class:S.value,style:t.value,"aria-hidden":"true"},y)];i.value!==null&&T.push(i.value);const O=e.label!==void 0?fe(n.default,[e.label]):Q(n.default);return O!==void 0&&T.push(f("div",{class:"q-radio__label q-anchor--skip"},O)),f("div",{ref:a,class:v.value,tabindex:x.value,role:"radio","aria-label":e.label,"aria-checked":b.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:o,onKeydown:u,onKeyup:k},T)}}}),Ze=R({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:n,emit:d}){let r=!1,l,t,a=null,i=null,g,b;function v(){l&&l(),l=null,r=!1,a!==null&&(clearTimeout(a),a=null),i!==null&&(clearTimeout(i),i=null),t!==void 0&&t.removeEventListener("transitionend",g),g=null}function S(c,o,u){o!==void 0&&(c.style.height=`${o}px`),c.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,l=u}function p(c,o){c.style.overflowY=null,c.style.height=null,c.style.transition=null,v(),o!==b&&d(o)}function x(c,o){let u=0;t=c,r===!0?(v(),u=c.offsetHeight===c.scrollHeight?0:void 0):(b="hide",c.style.overflowY="hidden"),S(c,u,o),a=setTimeout(()=>{a=null,c.style.height=`${c.scrollHeight}px`,g=k=>{i=null,(Object(k)!==k||k.target===c)&&p(c,"show")},c.addEventListener("transitionend",g),i=setTimeout(g,e.duration*1.1)},100)}function w(c,o){let u;t=c,r===!0?v():(b="show",c.style.overflowY="hidden",u=c.scrollHeight),S(c,u,o),a=setTimeout(()=>{a=null,c.style.height=0,g=k=>{i=null,(Object(k)!==k||k.target===c)&&p(c,"hide")},c.addEventListener("transitionend",g),i=setTimeout(g,e.duration*1.1)},100)}return Ce(()=>{r===!0&&v()}),()=>f(me,{css:!1,appear:e.appear,onEnter:x,onLeave:w},n.default)}}),Se=R({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:d}}=K(),r=q(null),l=m(()=>e.stepper.modelValue===e.step.name),t=m(()=>{const o=e.step.disable;return o===!0||o===""}),a=m(()=>{const o=e.step.error;return o===!0||o===""}),i=m(()=>{const o=e.step.done;return t.value===!1&&(o===!0||o==="")}),g=m(()=>{const o=e.step.headerNav,u=o===!0||o===""||o===void 0;return t.value===!1&&e.stepper.headerNav&&u}),b=m(()=>e.step.prefix&&(l.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(i.value===!1||e.stepper.doneIcon==="none")),v=m(()=>{const o=e.step.icon||e.stepper.inactiveIcon;if(l.value===!0){const u=e.step.activeIcon||e.stepper.activeIcon;return u==="none"?o:u||d.iconSet.stepper.active}if(a.value===!0){const u=e.step.errorIcon||e.stepper.errorIcon;return u==="none"?o:u||d.iconSet.stepper.error}if(t.value===!1&&i.value===!0){const u=e.step.doneIcon||e.stepper.doneIcon;return u==="none"?o:u||d.iconSet.stepper.done}return o}),S=m(()=>{const o=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(l.value===!0){const u=e.step.activeColor||e.stepper.activeColor||e.step.color;return u!==void 0?u:o}return o!==void 0?o:t.value===!1&&i.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),p=m(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(S.value!==void 0?` text-${S.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(b.value===!0?"prefix":"icon"):"")+(l.value===!0?" q-stepper__tab--active":"")+(i.value===!0?" q-stepper__tab--done":"")+(g.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),x=m(()=>e.stepper.headerNav!==!0?!1:g.value);function w(){r.value!==null&&r.value.focus(),l.value===!1&&e.goToPanel(e.step.name)}function c(o){o.keyCode===13&&l.value===!1&&e.goToPanel(e.step.name)}return()=>{const o={class:p.value};g.value===!0&&(o.onClick=w,o.onKeyup=c,Object.assign(o,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const u=[f("div",{class:"q-focus-helper",tabindex:-1,ref:r}),f("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[f("span",{class:"row flex-center"},[b.value===!0?e.step.prefix:f(pe,{name:v.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const k=[f("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&k.push(f("div",{class:"q-stepper__caption"},e.step.caption)),u.push(f("div",{class:"q-stepper__label q-stepper__line relative-position"},k))}return qe(f("div",o,u),[[Pe,x.value]])}}});function et(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((d,r)=>{const l=parseFloat(d);l&&(n[r]=l)}),n}var tt=Ie({name:"touch-swipe",beforeMount(e,{value:n,arg:d,modifiers:r}){if(r.mouse!==!0&&j.has.touch!==!0)return;const l=r.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:et(d),direction:se(r),noop:Te,mouseStart(a){ce(a,t)&&Be(a)&&(W(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ce(a,t)){const i=a.target;W(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,i){j.is.firefox===!0&&X(e,!0);const g=le(a);t.event={x:g.left,y:g.top,time:Date.now(),mouse:i===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){$(a);return}const i=Date.now()-t.event.time;if(i===0)return;const g=le(a),b=g.left-t.event.x,v=Math.abs(b),S=g.top-t.event.y,p=Math.abs(S);if(t.event.mouse!==!0){if(v<t.sensitivity[1]&&p<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(v<t.sensitivity[2]&&p<t.sensitivity[2])return;const x=v/i,w=p/i;t.direction.vertical===!0&&v<p&&v<100&&w>t.sensitivity[0]&&(t.event.dir=S<0?"up":"down"),t.direction.horizontal===!0&&v>p&&p<100&&x>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&v<p&&S<0&&v<100&&w>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&v<p&&S>0&&v<100&&w>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&v>p&&b<0&&p<100&&x>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&v>p&&b>0&&p<100&&x>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?($(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ye(),t.styleCleanup=c=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const o=()=>{document.body.classList.remove("no-pointer-events--children")};c===!0?setTimeout(o,50):o()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:i,distance:{x:v,y:p}})):t.end(a)},end(a){t.event!==void 0&&(G(t,"temp"),j.is.firefox===!0&&X(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&$(a),t.event=void 0)}};if(e.__qtouchswipe=t,r.mouse===!0){const a=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";W(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}j.has.touch===!0&&W(t,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const d=e.__qtouchswipe;d!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&d.end(),d.handler=n.value),d.direction=se(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(G(n,"main"),G(n,"temp"),j.is.firefox===!0&&X(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function _e(){let e=Object.create(null);return{getCache:(n,d)=>e[n]===void 0?e[n]=typeof d=="function"?d():d:e[n],setCache(n,d){e[n]=d},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const at={name:{required:!0},disable:Boolean},de={setup(e,{slots:n}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},Q(n.default))}},nt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},rt=["update:modelValue","beforeTransition","transition"];function ot(){const{props:e,emit:n,proxy:d}=K(),{getCache:r}=_e();let l,t;const a=q(null),i=q(null);function g(s){const _=e.vertical===!0?"up":"left";A((d.$q.lang.rtl===!0?-1:1)*(s.direction===_?1:-1))}const b=m(()=>[[tt,g,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),S=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),x=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),w=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),c=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Ve(()=>e.modelValue,(s,_)=>{const P=y(s)===!0?T(s):-1;t!==!0&&z(P===-1?0:P<T(_)?-1:1),a.value!==P&&(a.value=P,n("beforeTransition",s,_),De(()=>{n("transition",s,_)}))});function o(){A(1)}function u(){A(-1)}function k(s){n("update:modelValue",s)}function y(s){return s!=null&&s!==""}function T(s){return l.findIndex(_=>_.props.name===s&&_.props.disable!==""&&_.props.disable!==!0)}function O(){return l.filter(s=>s.props.disable!==""&&s.props.disable!==!0)}function z(s){const _=s!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(s===-1?v.value:S.value):null;i.value!==_&&(i.value=_)}function A(s,_=a.value){let P=_+s;for(;P!==-1&&P<l.length;){const L=l[P];if(L!==void 0&&L.props.disable!==""&&L.props.disable!==!0){z(s),t=!0,n("update:modelValue",L.props.name),setTimeout(()=>{t=!1});return}P+=s}e.infinite===!0&&l.length!==0&&_!==-1&&_!==l.length&&A(s,s===-1?l.length:-1)}function M(){const s=T(e.modelValue);return a.value!==s&&(a.value=s),!0}function U(){const s=y(e.modelValue)===!0&&M()&&l[a.value];return e.keepAlive===!0?[f(he,w.value,[f(c.value===!0?r(x.value,()=>({...de,name:x.value})):de,{key:x.value,style:p.value},()=>s)])]:[f("div",{class:"q-panel scroll",style:p.value,key:x.value,role:"tabpanel"},[s])]}function H(){if(l.length!==0)return e.animated===!0?[f(me,{name:i.value},U)]:U()}function Y(s){return l=Ae(Q(s.default,[])).filter(_=>_.props!==null&&_.props.slot===void 0&&y(_.props.name)===!0),l.length}function h(){return l}return Object.assign(d,{next:o,previous:u,goTo:k}),{panelIndex:a,panelDirectives:b,updatePanelsList:Y,updatePanelIndex:M,getPanelContent:H,getEnabledPanels:O,getPanels:h,isValidPanelName:y,keepAliveProps:w,needsUniqueKeepAliveWrapper:c,goToPanelByOffset:A,goToPanel:k,nextPanel:o,previousPanel:u}}function ke(e){return f("div",{class:"q-stepper__step-content"},[f("div",{class:"q-stepper__step-inner"},Q(e.default))])}const ve={setup(e,{slots:n}){return()=>ke(n)}};var te=R({name:"QStep",props:{...at,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:d}){const{proxy:{$q:r}}=K(),l=Ee(ge,J);if(l===J)return console.error("QStep needs to be a child of QStepper"),J;const{getCache:t}=_e(),a=q(null),i=m(()=>l.value.modelValue===e.name),g=m(()=>r.platform.is.ios!==!0&&r.platform.is.chrome===!0||i.value!==!0||l.value.vertical!==!0?{}:{onScroll(S){const{target:p}=S;p.scrollTop>0&&(p.scrollTop=0),e.onScroll!==void 0&&d("scroll",S)}}),b=m(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function v(){const S=l.value.vertical;return S===!0&&l.value.keepAlive===!0?f(he,l.value.keepAliveProps.value,i.value===!0?[f(l.value.needsUniqueKeepAliveWrapper.value===!0?t(b.value,()=>({...ve,name:b.value})):ve,{key:b.value},n.default)]:void 0):S!==!0||i.value===!0?ke(n):void 0}return()=>f("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...g.value},l.value.vertical===!0?[f(Se,{stepper:l.value,step:e,goToPanel:l.value.goToPanel}),l.value.animated===!0?f(Ze,v):v()]:[v()])}}),lt=R({name:"QStepperNavigation",setup(e,{slots:n}){return()=>f("div",{class:"q-stepper__nav"},Q(n.default))}});const it=/(-\w)/g;function st(e){const n={};for(const d in e){const r=d.replace(it,l=>l[1].toUpperCase());n[r]=e[d]}return n}var ct=R({name:"QStepper",props:{...be,...nt,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:rt,setup(e,{slots:n}){const d=K(),r=ye(e,d.proxy.$q),{updatePanelsList:l,isValidPanelName:t,updatePanelIndex:a,getPanelContent:i,getPanels:g,panelDirectives:b,goToPanel:v,keepAliveProps:S,needsUniqueKeepAliveWrapper:p}=ot();Ne(ge,m(()=>({goToPanel:v,keepAliveProps:S,needsUniqueKeepAliveWrapper:p,...e})));const x=m(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(r.value===!0?" q-stepper--dark q-dark":"")),w=m(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function c(){const o=Q(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&a();const u=f("div",{class:"q-stepper__content"},Q(n.default));return o===void 0?[u]:o.concat(u)}return[f("div",{class:w.value},g().map(u=>{const k=st(u.props);return f(Se,{key:k.name,stepper:e,step:k,goToPanel:v})})),o,Qe("div",{class:"q-stepper__content q-panel-parent"},i(),"cont",e.swipeable,()=>b.value)]}return()=>(l(n),f("div",{class:x.value},fe(n.navigation,c())))}});const ut={setup(){const e=Xe(),n=Oe(),d=q(1),r=q([]),l=q([]),t=q([]),a=q(null),i=["White Bread","Whole Grain","Sourdough","Rye Bread","Multigrain"],g=q(null),b=q(!0),v=q(!1),S=q(!1),p=q(!1),x=async()=>{try{const h=await F.get("https://send-which-app.onrender.com/api/v1/ingredients");l.value=h.data.ingredients}catch(h){console.error("Error fetching ingredients:",h)}finally{b.value=!1}},w=async()=>{try{const h=await F.get("https://send-which-app.onrender.com/api/v1/slots");t.value=h.data.slots}catch(h){console.error("Error fetching slots:",h)}finally{b.value=!1}},c=async h=>{try{a.value=h,console.log(a.value)}catch(s){console.log(s)}};Le(async()=>{await x(),await w()});const o={right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75},u={right:"2px",borderRadius:"7px",backgroundColor:"#027be3",width:"9px",opacity:.2},k=m(()=>g.value===null||r.value.length===0||!v.value),y=m(()=>a.value===null||!S.value),T=async()=>{p.value=!0;try{const h={totalprice:localStorage.getItem("price")},s=await F.post("https://send-which-app.onrender.com/api/v1/paypal/pay",h),_=window.open(s.data.url,"_blank","width=500,height=600");window.addEventListener("message",P=>{if(P.origin!=="https://send-which-app.onrender.com")return;const L=P.data.success,re=P.data.message;L?(setTimeout(()=>{e.notify({progress:!0,type:"positive",message:re})},5e3),n.push("/orderSuccess")):e.notify({type:"negative",message:re}),p.value=!1})}catch{e.notify({type:"negative",message:"Error, something went wrong \u{1F62D}"}),p.value=!1}},O=async()=>{try{const h={breadType:g.value,ingredientsID:r.value},s=await F.post("https://send-which-app.onrender.com/api/v1/sandwich",h);localStorage.setItem("price",s.data.sandwichPrice),localStorage.setItem("sandwichID",s.data.sandwichID),v.value=!0}catch(h){throw e.notify({type:"negative",message:"Failed to send order data"}),console.error("Error sending order data:",h),h}},z=async()=>{try{const h={userID:localStorage.getItem("id"),slotID:a.value,content:localStorage.getItem("sandwichID"),total:localStorage.getItem("price"),status:"toDo"};(await F.post("https://send-which-app.onrender.com/api/v1/order",h)).data.success&&e.notify({type:"positive",message:"Selected slot with success"}),S.value=!0}catch(h){throw e.notify({type:"negative",message:"Failed to select timeslot"}),console.error("Error selecting slot:",h),h}},A=async()=>{try{await O()}catch(h){console.error("Error saving sandwich:",h)}},M=async()=>{try{await z()}catch(h){console.error("Error saving sandwich:",h)}},U=()=>{r.value=[],g.value=null,v.value=!1},H=m(()=>l.value.filter(h=>r.value.includes(h._id))),Y=m(()=>t.value.filter(h=>r.value.includes(h._id)));return{step:d,selection:r,selectedBread:g,thumbStyle:o,barStyle:u,disableContinue:k,disableContinueSandwich:y,placeOrder:T,cancelOrder:U,saveSandwich:A,saveSlot:M,selectTimeSlot:c,ingredients:l,breadTypes:i,loading:b,selectedIngredients:H,selectedTimeSlot:Y,showOverlay:p,slots:t,savedSlot:a}}},ne=e=>(Fe("data-v-ae13b3ba"),e=e(),$e(),e),dt={class:"q-pa-md"},vt=ne(()=>ae("div",{class:"text-subtitle1 q-mt-md"},"Processing your payment...",-1)),pt={key:0,class:"loading-message"},ft={key:1},mt=ne(()=>ae("div",{class:"text-h6"},"Select Bread Type",-1)),ht=ne(()=>ae("div",{class:"q-mt-md text-h6"},"Select Ingredients",-1));function gt(e,n,d,r,l,t){return C(),B("div",dt,[I(Ke,{modelValue:r.showOverlay,"onUpdate:modelValue":n[0]||(n[0]=a=>r.showOverlay=a),persistent:""},{default:V(()=>[I(Re,{color:"primary",size:"50px"}),vt]),_:1},8,["modelValue"]),I(ct,{modelValue:r.step,"onUpdate:modelValue":n[7]||(n[7]=a=>r.step=a),ref:"stepper",animated:"","active-color":"purple"},{navigation:V(()=>[I(lt,null,{default:V(()=>[r.step==3?(C(),D(E,{key:0,class:"q-ml-sm",color:"green","bg-color":"white",label:"Pay",onClick:r.placeOrder},null,8,["onClick"])):N("",!0),r.step==1?(C(),D(E,{key:1,disable:r.disableContinue,onClick:n[4]||(n[4]=a=>e.$refs.stepper.next()),color:"deep-orange",label:"Continue"},null,8,["disable"])):N("",!0),r.step==2?(C(),D(E,{key:2,disable:r.disableContinueSandwich,onClick:n[5]||(n[5]=a=>e.$refs.stepper.next()),color:"deep-orange",label:"Continue"},null,8,["disable"])):N("",!0),r.step==1?(C(),D(E,{key:3,class:"q-ml-sm",color:"red","bg-color":"white",label:"Cancel",onClick:r.cancelOrder},null,8,["onClick"])):N("",!0),r.step==1?(C(),D(E,{key:4,flat:"","bg-color":"green",color:"green",onClick:r.saveSandwich,label:"Save Sandwich",class:"q-ml-sm"},null,8,["onClick"])):N("",!0),r.step==2?(C(),D(E,{key:5,flat:"","bg-color":"green",color:"green",onClick:r.saveSlot,label:"Select TimeSlot",class:"q-ml-sm"},null,8,["onClick"])):N("",!0),r.step>1?(C(),D(E,{key:6,flat:"",color:"deep-orange",onClick:n[6]||(n[6]=a=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):N("",!0)]),_:1})]),default:V(()=>[I(te,{name:1,prefix:"1",title:"Select your ingredients"},{default:V(()=>[I(ie,{"thumb-style":r.thumbStyle,"bar-style":r.barStyle,style:{height:"350px","background-color":"whitesmoke","border-radius":"2px",border:"2px solid #73ad21","border-color":"black"}},{default:V(()=>[r.loading?(C(),B("div",pt,"Loading...")):(C(),B("div",ft,[mt,(C(!0),B(Z,null,ee(r.breadTypes,a=>(C(),B("div",{key:a,class:"checkbox-container"},[I(ue,{modelValue:r.selectedBread,"onUpdate:modelValue":n[1]||(n[1]=i=>r.selectedBread=i),val:a,label:`${a} - \u20AC2.00`,color:"green",style:{"border-radius":"2px","border-bottom":"1px solid #73ad21","border-color":"black",width:"100%",height:"50px"},"checked-icon":"radio_button_checked","unchecked-icon":"radio_button_unchecked",class:"custom-radio"},null,8,["modelValue","val","label"])]))),128)),ht,(C(!0),B(Z,null,ee(r.ingredients,a=>(C(),B("div",{key:a._id,class:"checkbox-container"},[I(Ue,{modelValue:r.selection,"onUpdate:modelValue":n[2]||(n[2]=i=>r.selection=i),val:a._id,label:`${a.name} - \u20AC${a.price.toFixed(2)}`,color:"green",style:{"border-radius":"2px","border-bottom":"1px solid #73ad21","border-color":"black",width:"100%",height:"50px"},"checked-icon":"check_circle","unchecked-icon":"check",class:"custom-checkbox"},null,8,["modelValue","val","label"])]))),128))]))]),_:1},8,["thumb-style","bar-style"])]),_:1}),I(te,{name:2,prefix:"2",title:"Select a time slot"},{default:V(()=>[I(ie,{"thumb-style":r.thumbStyle,"bar-style":r.barStyle,style:{height:"350px","background-color":"whitesmoke","border-radius":"2px",border:"2px solid #73ad21","border-color":"black"}},{default:V(()=>[(C(!0),B(Z,null,ee(r.slots,a=>(C(),B("div",{key:a._id,class:"checkbox-container"},[I(ue,{modelValue:r.savedSlot,"onUpdate:modelValue":n[3]||(n[3]=i=>r.savedSlot=i),val:a._id,label:`${a.hours} : ${a.minutes}`,color:"green",style:{"border-radius":"2px","border-bottom":"1px solid #73ad21","border-color":"black",width:"100%",height:"50px"},"checked-icon":"radio_button_checked","unchecked-icon":"radio_button_unchecked",class:"custom-radio"},null,8,["modelValue","val","label"])]))),128))]),_:1},8,["thumb-style","bar-style"])]),_:1}),I(te,{name:3,prefix:"3",title:"Pay Order"},{default:V(()=>[je(" Pay your order with PayPal ")]),_:1})]),_:1},8,["modelValue"])])}var Vt=Ge(ut,[["render",gt],["__scopeId","data-v-ae13b3ba"]]);export{Vt as default};
